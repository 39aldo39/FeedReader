/* grabberUtils.c generated by valac 0.28.1, the Vala compiler
 * generated from grabberUtils.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <libxml/HTMLtree.h>
#include <libxml/HTMLparser.h>
#include <stdlib.h>
#include <string.h>
#include <libxml/tree.h>
#include <libxml/xpath.h>


#define FEED_READER_TYPE_GRABBER_UTILS (feed_reader_grabber_utils_get_type ())
#define FEED_READER_GRABBER_UTILS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FEED_READER_TYPE_GRABBER_UTILS, FeedReadergrabberUtils))
#define FEED_READER_GRABBER_UTILS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FEED_READER_TYPE_GRABBER_UTILS, FeedReadergrabberUtilsClass))
#define FEED_READER_IS_GRABBER_UTILS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FEED_READER_TYPE_GRABBER_UTILS))
#define FEED_READER_IS_GRABBER_UTILS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FEED_READER_TYPE_GRABBER_UTILS))
#define FEED_READER_GRABBER_UTILS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FEED_READER_TYPE_GRABBER_UTILS, FeedReadergrabberUtilsClass))

typedef struct _FeedReadergrabberUtils FeedReadergrabberUtils;
typedef struct _FeedReadergrabberUtilsClass FeedReadergrabberUtilsClass;
typedef struct _FeedReadergrabberUtilsPrivate FeedReadergrabberUtilsPrivate;
#define _xmlXPathFreeContext0(var) ((var == NULL) ? NULL : (var = (xmlXPathFreeContext (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

struct _FeedReadergrabberUtils {
	GObject parent_instance;
	FeedReadergrabberUtilsPrivate * priv;
};

struct _FeedReadergrabberUtilsClass {
	GObjectClass parent_class;
};


static gpointer feed_reader_grabber_utils_parent_class = NULL;

GType feed_reader_grabber_utils_get_type (void) G_GNUC_CONST;
enum  {
	FEED_READER_GRABBER_UTILS_DUMMY_PROPERTY
};
FeedReadergrabberUtils* feed_reader_grabber_utils_new (void);
FeedReadergrabberUtils* feed_reader_grabber_utils_construct (GType object_type);
gboolean feed_reader_grabber_utils_extractBody (xmlDoc* doc, const gchar* xpath, xmlNode* destination);
gchar* feed_reader_grabber_utils_getURL (xmlDoc* doc, const gchar* xpath);
gchar* feed_reader_grabber_utils_getValue (xmlDoc* doc, const gchar* xpath, gboolean remove);
gchar* feed_reader_grabber_utils_cleanString (const gchar* text);
gboolean feed_reader_grabber_utils_repairImg (xmlDoc* doc, const gchar* articleURL);
gchar* feed_reader_grabber_utils_completeURL (const gchar* incompleteURL, const gchar* articleURL);
gboolean feed_reader_grabber_utils_repairURL (xmlDoc* doc, const gchar* articleURL);
void feed_reader_grabber_utils_stripNode (xmlDoc* doc, const gchar* xpath);
void feed_reader_grabber_utils_stripIDorClass (xmlDoc* doc, const gchar* IDorClass);
gchar* feed_reader_grabber_utils_buildHostName (const gchar* URL);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


FeedReadergrabberUtils* feed_reader_grabber_utils_construct (GType object_type) {
	FeedReadergrabberUtils * self = NULL;
#line 3 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	self = (FeedReadergrabberUtils*) g_object_new (object_type, NULL);
#line 3 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return self;
#line 70 "grabberUtils.c"
}


FeedReadergrabberUtils* feed_reader_grabber_utils_new (void) {
#line 3 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return feed_reader_grabber_utils_construct (FEED_READER_TYPE_GRABBER_UTILS);
#line 77 "grabberUtils.c"
}


gboolean feed_reader_grabber_utils_extractBody (xmlDoc* doc, const gchar* xpath, xmlNode* destination) {
	gboolean result = FALSE;
	gboolean foundSomething = FALSE;
	xmlXPathContext* cntx = NULL;
	xmlDoc* _tmp0_ = NULL;
	xmlXPathContext* _tmp1_ = NULL;
	xmlXPathObject* res = NULL;
	xmlXPathContext* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	xmlXPathObject* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	xmlXPathObject* _tmp7_ = NULL;
	xmlXPathObject* _tmp28_ = NULL;
#line 8 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (xpath != NULL, FALSE);
#line 10 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	foundSomething = FALSE;
#line 11 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = doc;
#line 11 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = xmlXPathNewContext (_tmp0_);
#line 11 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	cntx = _tmp1_;
#line 12 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = cntx;
#line 12 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = xpath;
#line 12 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp4_ = xmlXPathEvalExpression ((xmlChar*) _tmp3_, _tmp2_);
#line 12 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	res = _tmp4_;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp7_ = res;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp7_ == NULL) {
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = TRUE;
#line 119 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp8_ = NULL;
		xmlXPathObjectType _tmp9_ = 0;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = res;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = _tmp8_->type;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = _tmp9_ != XPATH_NODESET;
#line 129 "grabberUtils.c"
	}
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp6_) {
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = TRUE;
#line 135 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp10_ = NULL;
		xmlNodeSet* _tmp11_ = NULL;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp10_ = res;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp11_ = _tmp10_->nodesetval;
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = _tmp11_ == NULL;
#line 145 "grabberUtils.c"
	}
#line 15 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp5_) {
#line 16 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		result = FALSE;
#line 16 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_xmlXPathFreeContext0 (cntx);
#line 16 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		return result;
#line 155 "grabberUtils.c"
	}
	{
		gint i = 0;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		i = 0;
#line 161 "grabberUtils.c"
		{
			gboolean _tmp12_ = FALSE;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp12_ = TRUE;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			while (TRUE) {
#line 168 "grabberUtils.c"
				gint _tmp14_ = 0;
				xmlXPathObject* _tmp15_ = NULL;
				xmlNodeSet* _tmp16_ = NULL;
				gint _tmp17_ = 0;
				xmlNode* node = NULL;
				xmlXPathObject* _tmp18_ = NULL;
				xmlNodeSet* _tmp19_ = NULL;
				gint _tmp20_ = 0;
				xmlNode* _tmp21_ = NULL;
				xmlNode* _tmp22_ = NULL;
				xmlAttr* _tmp23_ = NULL;
				xmlNode* _tmp24_ = NULL;
				xmlNode* _tmp25_ = NULL;
				xmlNode* _tmp26_ = NULL;
				gboolean _tmp27_ = FALSE;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!_tmp12_) {
#line 186 "grabberUtils.c"
					gint _tmp13_ = 0;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp13_ = i;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					i = _tmp13_ + 1;
#line 192 "grabberUtils.c"
				}
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp12_ = FALSE;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp14_ = i;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp15_ = res;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp16_ = _tmp15_->nodesetval;
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp17_ = xmlXPathNodeSetGetLength (_tmp16_);
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!(_tmp14_ < _tmp17_)) {
#line 18 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					break;
#line 208 "grabberUtils.c"
				}
#line 20 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp18_ = res;
#line 20 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp19_ = _tmp18_->nodesetval;
#line 20 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp20_ = i;
#line 20 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp21_ = xmlXPathNodeSetItem (_tmp19_, _tmp20_);
#line 20 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				node = _tmp21_;
#line 23 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp22_ = node;
#line 23 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp23_ = xmlHasProp (_tmp22_, (xmlChar*) "style");
#line 23 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				xmlRemoveProp (_tmp23_);
#line 25 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp24_ = node;
#line 25 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				xmlUnlinkNode (_tmp24_);
#line 26 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp25_ = destination;
#line 26 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp26_ = node;
#line 26 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				xmlAddChild (_tmp25_, _tmp26_);
#line 28 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp27_ = foundSomething;
#line 28 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!_tmp27_) {
#line 29 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					foundSomething = TRUE;
#line 242 "grabberUtils.c"
				}
			}
		}
	}
#line 32 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp28_ = res;
#line 32 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlXPathFreeObject (_tmp28_);
#line 33 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = foundSomething;
#line 33 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_xmlXPathFreeContext0 (cntx);
#line 33 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 257 "grabberUtils.c"
}


gchar* feed_reader_grabber_utils_getURL (xmlDoc* doc, const gchar* xpath) {
	gchar* result = NULL;
	xmlXPathContext* cntx = NULL;
	xmlDoc* _tmp0_ = NULL;
	xmlXPathContext* _tmp1_ = NULL;
	xmlXPathObject* res = NULL;
	xmlXPathContext* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	xmlXPathObject* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	xmlXPathObject* _tmp7_ = NULL;
	xmlNode* node = NULL;
	xmlXPathObject* _tmp12_ = NULL;
	xmlNodeSet* _tmp13_ = NULL;
	xmlNode* _tmp14_ = NULL;
	gchar* URL = NULL;
	xmlNode* _tmp15_ = NULL;
	gchar* _tmp16_ = NULL;
	xmlNode* _tmp17_ = NULL;
	xmlNode* _tmp18_ = NULL;
	xmlXPathObject* _tmp19_ = NULL;
#line 36 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (xpath != NULL, NULL);
#line 38 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = doc;
#line 38 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = xmlXPathNewContext (_tmp0_);
#line 38 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	cntx = _tmp1_;
#line 39 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = cntx;
#line 39 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = xpath;
#line 39 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp4_ = xmlXPathEvalExpression ((xmlChar*) _tmp3_, _tmp2_);
#line 39 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	res = _tmp4_;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp7_ = res;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp7_ == NULL) {
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = TRUE;
#line 305 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp8_ = NULL;
		xmlXPathObjectType _tmp9_ = 0;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = res;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = _tmp8_->type;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = _tmp9_ != XPATH_NODESET;
#line 315 "grabberUtils.c"
	}
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp6_) {
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = TRUE;
#line 321 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp10_ = NULL;
		xmlNodeSet* _tmp11_ = NULL;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp10_ = res;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp11_ = _tmp10_->nodesetval;
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = _tmp11_ == NULL;
#line 331 "grabberUtils.c"
	}
#line 42 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp5_) {
#line 43 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		result = NULL;
#line 43 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_xmlXPathFreeContext0 (cntx);
#line 43 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		return result;
#line 341 "grabberUtils.c"
	}
#line 45 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp12_ = res;
#line 45 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp13_ = _tmp12_->nodesetval;
#line 45 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp14_ = xmlXPathNodeSetItem (_tmp13_, 0);
#line 45 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	node = _tmp14_;
#line 48 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp15_ = node;
#line 48 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp16_ = (gchar*) xmlGetProp (_tmp15_, (xmlChar*) "href");
#line 48 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	URL = _tmp16_;
#line 50 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp17_ = node;
#line 50 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlUnlinkNode (_tmp17_);
#line 51 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp18_ = node;
#line 51 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlFreeNodeList (_tmp18_);
#line 52 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp19_ = res;
#line 52 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlXPathFreeObject (_tmp19_);
#line 53 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = URL;
#line 53 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_xmlXPathFreeContext0 (cntx);
#line 53 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 375 "grabberUtils.c"
}


gchar* feed_reader_grabber_utils_getValue (xmlDoc* doc, const gchar* xpath, gboolean remove) {
	gchar* result = NULL;
	xmlXPathContext* cntx = NULL;
	xmlDoc* _tmp0_ = NULL;
	xmlXPathContext* _tmp1_ = NULL;
	xmlXPathObject* res = NULL;
	xmlXPathContext* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	xmlXPathObject* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	xmlXPathObject* _tmp7_ = NULL;
	xmlNode* node = NULL;
	xmlXPathObject* _tmp12_ = NULL;
	xmlNodeSet* _tmp13_ = NULL;
	xmlNode* _tmp14_ = NULL;
	gchar* _result_ = NULL;
	xmlNode* _tmp15_ = NULL;
	gchar* _tmp16_ = NULL;
	gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
	gchar* _tmp19_ = NULL;
	gboolean _tmp20_ = FALSE;
	xmlXPathObject* _tmp23_ = NULL;
#line 56 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (xpath != NULL, NULL);
#line 58 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = doc;
#line 58 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = xmlXPathNewContext (_tmp0_);
#line 58 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	cntx = _tmp1_;
#line 59 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = cntx;
#line 59 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = xpath;
#line 59 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp4_ = xmlXPathEvalExpression ((xmlChar*) _tmp3_, _tmp2_);
#line 59 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	res = _tmp4_;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp7_ = res;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp7_ == NULL) {
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = TRUE;
#line 425 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp8_ = NULL;
		xmlXPathObjectType _tmp9_ = 0;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = res;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = _tmp8_->type;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = _tmp9_ != XPATH_NODESET;
#line 435 "grabberUtils.c"
	}
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp6_) {
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = TRUE;
#line 441 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp10_ = NULL;
		xmlNodeSet* _tmp11_ = NULL;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp10_ = res;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp11_ = _tmp10_->nodesetval;
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = _tmp11_ == NULL;
#line 451 "grabberUtils.c"
	}
#line 61 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp5_) {
#line 62 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		result = NULL;
#line 62 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_xmlXPathFreeContext0 (cntx);
#line 62 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		return result;
#line 461 "grabberUtils.c"
	}
#line 64 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp12_ = res;
#line 64 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp13_ = _tmp12_->nodesetval;
#line 64 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp14_ = xmlXPathNodeSetItem (_tmp13_, 0);
#line 64 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	node = _tmp14_;
#line 65 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp15_ = node;
#line 65 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp16_ = (gchar*) xmlNodeGetContent (_tmp15_);
#line 65 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp17_ = _tmp16_;
#line 65 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp18_ = feed_reader_grabber_utils_cleanString (_tmp17_);
#line 65 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp19_ = _tmp18_;
#line 65 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (_tmp17_);
#line 65 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_result_ = _tmp19_;
#line 67 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp20_ = remove;
#line 67 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp20_) {
#line 489 "grabberUtils.c"
		xmlNode* _tmp21_ = NULL;
		xmlNode* _tmp22_ = NULL;
#line 69 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp21_ = node;
#line 69 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		xmlUnlinkNode (_tmp21_);
#line 70 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp22_ = node;
#line 70 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		xmlFreeNodeList (_tmp22_);
#line 500 "grabberUtils.c"
	}
#line 73 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp23_ = res;
#line 73 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlXPathFreeObject (_tmp23_);
#line 74 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = _result_;
#line 74 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_xmlXPathFreeContext0 (cntx);
#line 74 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 512 "grabberUtils.c"
}


gboolean feed_reader_grabber_utils_repairImg (xmlDoc* doc, const gchar* articleURL) {
	gboolean result = FALSE;
	xmlXPathContext* cntx = NULL;
	xmlDoc* _tmp0_ = NULL;
	xmlXPathContext* _tmp1_ = NULL;
	xmlXPathObject* res = NULL;
	xmlXPathContext* _tmp2_ = NULL;
	xmlXPathObject* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	xmlXPathObject* _tmp6_ = NULL;
	xmlXPathObject* _tmp28_ = NULL;
#line 77 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (articleURL != NULL, FALSE);
#line 79 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = doc;
#line 79 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = xmlXPathNewContext (_tmp0_);
#line 79 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	cntx = _tmp1_;
#line 80 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = cntx;
#line 80 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = xmlXPathEvalExpression ((xmlChar*) "//img", _tmp2_);
#line 80 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	res = _tmp3_;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp6_ = res;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp6_ == NULL) {
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = TRUE;
#line 548 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp7_ = NULL;
		xmlXPathObjectType _tmp8_ = 0;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp7_ = res;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = _tmp7_->type;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = _tmp8_ != XPATH_NODESET;
#line 558 "grabberUtils.c"
	}
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp5_) {
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp4_ = TRUE;
#line 564 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp9_ = NULL;
		xmlNodeSet* _tmp10_ = NULL;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = res;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp10_ = _tmp9_->nodesetval;
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp4_ = _tmp10_ == NULL;
#line 574 "grabberUtils.c"
	}
#line 82 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp4_) {
#line 83 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		result = FALSE;
#line 83 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_xmlXPathFreeContext0 (cntx);
#line 83 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		return result;
#line 584 "grabberUtils.c"
	}
	{
		gint i = 0;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		i = 0;
#line 590 "grabberUtils.c"
		{
			gboolean _tmp11_ = FALSE;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp11_ = TRUE;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			while (TRUE) {
#line 597 "grabberUtils.c"
				gint _tmp13_ = 0;
				xmlXPathObject* _tmp14_ = NULL;
				xmlNodeSet* _tmp15_ = NULL;
				gint _tmp16_ = 0;
				xmlNode* node = NULL;
				xmlXPathObject* _tmp17_ = NULL;
				xmlNodeSet* _tmp18_ = NULL;
				gint _tmp19_ = 0;
				xmlNode* _tmp20_ = NULL;
				xmlNode* _tmp21_ = NULL;
				xmlNode* _tmp22_ = NULL;
				gchar* _tmp23_ = NULL;
				gchar* _tmp24_ = NULL;
				const gchar* _tmp25_ = NULL;
				gchar* _tmp26_ = NULL;
				gchar* _tmp27_ = NULL;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!_tmp11_) {
#line 616 "grabberUtils.c"
					gint _tmp12_ = 0;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp12_ = i;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					i = _tmp12_ + 1;
#line 622 "grabberUtils.c"
				}
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp11_ = FALSE;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp13_ = i;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp14_ = res;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp15_ = _tmp14_->nodesetval;
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp16_ = xmlXPathNodeSetGetLength (_tmp15_);
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!(_tmp13_ < _tmp16_)) {
#line 85 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					break;
#line 638 "grabberUtils.c"
				}
#line 87 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp17_ = res;
#line 87 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp18_ = _tmp17_->nodesetval;
#line 87 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp19_ = i;
#line 87 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp20_ = xmlXPathNodeSetItem (_tmp18_, _tmp19_);
#line 87 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				node = _tmp20_;
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp21_ = node;
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp22_ = node;
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp23_ = (gchar*) xmlGetProp (_tmp22_, (xmlChar*) "src");
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp24_ = _tmp23_;
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp25_ = articleURL;
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp26_ = feed_reader_grabber_utils_completeURL (_tmp24_, _tmp25_);
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp27_ = _tmp26_;
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				xmlSetProp (_tmp21_, (xmlChar*) "src", (xmlChar*) _tmp27_);
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (_tmp27_);
#line 88 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (_tmp24_);
#line 670 "grabberUtils.c"
			}
		}
	}
#line 91 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp28_ = res;
#line 91 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlXPathFreeObject (_tmp28_);
#line 92 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = TRUE;
#line 92 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_xmlXPathFreeContext0 (cntx);
#line 92 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 684 "grabberUtils.c"
}


gboolean feed_reader_grabber_utils_repairURL (xmlDoc* doc, const gchar* articleURL) {
	gboolean result = FALSE;
	xmlXPathContext* cntx = NULL;
	xmlDoc* _tmp0_ = NULL;
	xmlXPathContext* _tmp1_ = NULL;
	xmlXPathObject* res = NULL;
	xmlXPathContext* _tmp2_ = NULL;
	xmlXPathObject* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	xmlXPathObject* _tmp6_ = NULL;
	xmlXPathObject* _tmp28_ = NULL;
#line 95 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (articleURL != NULL, FALSE);
#line 97 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = doc;
#line 97 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = xmlXPathNewContext (_tmp0_);
#line 97 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	cntx = _tmp1_;
#line 98 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = cntx;
#line 98 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = xmlXPathEvalExpression ((xmlChar*) "//a", _tmp2_);
#line 98 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	res = _tmp3_;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp6_ = res;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp6_ == NULL) {
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = TRUE;
#line 720 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp7_ = NULL;
		xmlXPathObjectType _tmp8_ = 0;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp7_ = res;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = _tmp7_->type;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = _tmp8_ != XPATH_NODESET;
#line 730 "grabberUtils.c"
	}
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp5_) {
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp4_ = TRUE;
#line 736 "grabberUtils.c"
	} else {
		xmlXPathObject* _tmp9_ = NULL;
		xmlNodeSet* _tmp10_ = NULL;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = res;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp10_ = _tmp9_->nodesetval;
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp4_ = _tmp10_ == NULL;
#line 746 "grabberUtils.c"
	}
#line 100 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp4_) {
#line 101 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		result = FALSE;
#line 101 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_xmlXPathFreeContext0 (cntx);
#line 101 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		return result;
#line 756 "grabberUtils.c"
	}
	{
		gint i = 0;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		i = 0;
#line 762 "grabberUtils.c"
		{
			gboolean _tmp11_ = FALSE;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp11_ = TRUE;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			while (TRUE) {
#line 769 "grabberUtils.c"
				gint _tmp13_ = 0;
				xmlXPathObject* _tmp14_ = NULL;
				xmlNodeSet* _tmp15_ = NULL;
				gint _tmp16_ = 0;
				xmlNode* node = NULL;
				xmlXPathObject* _tmp17_ = NULL;
				xmlNodeSet* _tmp18_ = NULL;
				gint _tmp19_ = 0;
				xmlNode* _tmp20_ = NULL;
				xmlNode* _tmp21_ = NULL;
				xmlNode* _tmp22_ = NULL;
				gchar* _tmp23_ = NULL;
				gchar* _tmp24_ = NULL;
				const gchar* _tmp25_ = NULL;
				gchar* _tmp26_ = NULL;
				gchar* _tmp27_ = NULL;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!_tmp11_) {
#line 788 "grabberUtils.c"
					gint _tmp12_ = 0;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp12_ = i;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					i = _tmp12_ + 1;
#line 794 "grabberUtils.c"
				}
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp11_ = FALSE;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp13_ = i;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp14_ = res;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp15_ = _tmp14_->nodesetval;
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp16_ = xmlXPathNodeSetGetLength (_tmp15_);
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!(_tmp13_ < _tmp16_)) {
#line 103 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					break;
#line 810 "grabberUtils.c"
				}
#line 105 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp17_ = res;
#line 105 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp18_ = _tmp17_->nodesetval;
#line 105 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp19_ = i;
#line 105 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp20_ = xmlXPathNodeSetItem (_tmp18_, _tmp19_);
#line 105 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				node = _tmp20_;
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp21_ = node;
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp22_ = node;
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp23_ = (gchar*) xmlGetProp (_tmp22_, (xmlChar*) "href");
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp24_ = _tmp23_;
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp25_ = articleURL;
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp26_ = feed_reader_grabber_utils_completeURL (_tmp24_, _tmp25_);
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp27_ = _tmp26_;
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				xmlSetProp (_tmp21_, (xmlChar*) "href", (xmlChar*) _tmp27_);
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (_tmp27_);
#line 106 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (_tmp24_);
#line 842 "grabberUtils.c"
			}
		}
	}
#line 109 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp28_ = res;
#line 109 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlXPathFreeObject (_tmp28_);
#line 110 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = TRUE;
#line 110 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_xmlXPathFreeContext0 (cntx);
#line 110 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 856 "grabberUtils.c"
}


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_ = NULL;
	glong _tmp1_ = 0L;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp0_ = str;
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = maxlen;
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	end = _tmp2_;
#line 1198 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp3_ = end;
#line 1198 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp3_ == NULL) {
#line 879 "grabberUtils.c"
		glong _tmp4_ = 0L;
#line 1199 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp4_ = maxlen;
#line 1199 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = _tmp4_;
#line 1199 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 887 "grabberUtils.c"
	} else {
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = end;
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp6_ = str;
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = (glong) (_tmp5_ - _tmp6_);
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 899 "grabberUtils.c"
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_ = 0L;
	glong _tmp8_ = 0L;
	glong _tmp14_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	glong _tmp21_ = 0L;
	gchar* _tmp22_ = NULL;
#line 1208 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = offset;
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp1_ >= ((glong) 0)) {
#line 923 "grabberUtils.c"
		glong _tmp2_ = 0L;
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp2_ = len;
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp0_ = _tmp2_ >= ((glong) 0);
#line 929 "grabberUtils.c"
	} else {
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 933 "grabberUtils.c"
	}
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 937 "grabberUtils.c"
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		glong _tmp5_ = 0L;
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp3_ = offset;
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp4_ = len;
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		string_length = _tmp5_;
#line 949 "grabberUtils.c"
	} else {
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
#line 1214 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp6_ = strlen (self);
#line 1214 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp7_ = _tmp6_;
#line 1214 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		string_length = (glong) _tmp7_;
#line 959 "grabberUtils.c"
	}
#line 1217 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp8_ = offset;
#line 1217 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp8_ < ((glong) 0)) {
#line 965 "grabberUtils.c"
		glong _tmp9_ = 0L;
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
#line 1218 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp9_ = string_length;
#line 1218 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp10_ = offset;
#line 1218 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		offset = _tmp9_ + _tmp10_;
#line 1219 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp11_ = offset;
#line 1219 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
#line 979 "grabberUtils.c"
	} else {
		glong _tmp12_ = 0L;
		glong _tmp13_ = 0L;
#line 1221 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp12_ = offset;
#line 1221 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp13_ = string_length;
#line 1221 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
#line 989 "grabberUtils.c"
	}
#line 1223 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp14_ = len;
#line 1223 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp14_ < ((glong) 0)) {
#line 995 "grabberUtils.c"
		glong _tmp15_ = 0L;
		glong _tmp16_ = 0L;
#line 1224 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp15_ = string_length;
#line 1224 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp16_ = offset;
#line 1224 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		len = _tmp15_ - _tmp16_;
#line 1004 "grabberUtils.c"
	}
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp17_ = offset;
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp18_ = len;
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp19_ = string_length;
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp20_ = offset;
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp21_ = len;
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	result = _tmp22_;
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	return result;
#line 1024 "grabberUtils.c"
}


void feed_reader_grabber_utils_stripNode (xmlDoc* doc, const gchar* xpath) {
	gchar* ancestor = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	gchar* query = NULL;
	const gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	gchar* _tmp8_ = NULL;
	xmlXPathContext* cntx = NULL;
	xmlDoc* _tmp9_ = NULL;
	xmlXPathContext* _tmp10_ = NULL;
	xmlXPathObject* res = NULL;
	xmlXPathContext* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	xmlXPathObject* _tmp13_ = NULL;
	gboolean _tmp14_ = FALSE;
	gboolean _tmp15_ = FALSE;
	xmlXPathObject* _tmp16_ = NULL;
	xmlXPathObject* _tmp34_ = NULL;
#line 113 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_if_fail (xpath != NULL);
#line 115 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = xpath;
#line 115 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 115 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	ancestor = _tmp1_;
#line 116 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = ancestor;
#line 116 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = g_str_has_prefix (_tmp2_, "//");
#line 116 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp3_) {
#line 1063 "grabberUtils.c"
		const gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
#line 118 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp4_ = ancestor;
#line 118 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = string_substring (_tmp4_, (glong) 2, (glong) (-1));
#line 118 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_g_free0 (ancestor);
#line 118 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		ancestor = _tmp5_;
#line 1074 "grabberUtils.c"
	}
#line 120 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp6_ = xpath;
#line 120 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp7_ = ancestor;
#line 120 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp8_ = g_strdup_printf ("%s[not(ancestor::%s)]", _tmp6_, _tmp7_);
#line 120 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	query = _tmp8_;
#line 123 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp9_ = doc;
#line 123 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp10_ = xmlXPathNewContext (_tmp9_);
#line 123 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	cntx = _tmp10_;
#line 124 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp11_ = cntx;
#line 124 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp12_ = query;
#line 124 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp13_ = xmlXPathEvalExpression ((xmlChar*) _tmp12_, _tmp11_);
#line 124 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	res = _tmp13_;
#line 126 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp16_ = res;
#line 126 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp16_ != NULL) {
#line 1102 "grabberUtils.c"
		xmlXPathObject* _tmp17_ = NULL;
		xmlXPathObjectType _tmp18_ = 0;
#line 127 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp17_ = res;
#line 127 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp18_ = _tmp17_->type;
#line 127 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp15_ = _tmp18_ == XPATH_NODESET;
#line 1111 "grabberUtils.c"
	} else {
#line 126 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp15_ = FALSE;
#line 1115 "grabberUtils.c"
	}
#line 126 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp15_) {
#line 1119 "grabberUtils.c"
		xmlXPathObject* _tmp19_ = NULL;
		xmlNodeSet* _tmp20_ = NULL;
#line 128 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp19_ = res;
#line 128 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp20_ = _tmp19_->nodesetval;
#line 128 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp14_ = _tmp20_ != NULL;
#line 1128 "grabberUtils.c"
	} else {
#line 126 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp14_ = FALSE;
#line 1132 "grabberUtils.c"
	}
#line 126 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp14_) {
#line 1136 "grabberUtils.c"
		{
			gint i = 0;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			i = 0;
#line 1141 "grabberUtils.c"
			{
				gboolean _tmp21_ = FALSE;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp21_ = TRUE;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				while (TRUE) {
#line 1148 "grabberUtils.c"
					gint _tmp23_ = 0;
					xmlXPathObject* _tmp24_ = NULL;
					xmlNodeSet* _tmp25_ = NULL;
					gint _tmp26_ = 0;
					xmlNode* node = NULL;
					xmlXPathObject* _tmp27_ = NULL;
					xmlNodeSet* _tmp28_ = NULL;
					gint _tmp29_ = 0;
					xmlNode* _tmp30_ = NULL;
					xmlNode* _tmp31_ = NULL;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (!_tmp21_) {
#line 1161 "grabberUtils.c"
						gint _tmp22_ = 0;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp22_ = i;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						i = _tmp22_ + 1;
#line 1167 "grabberUtils.c"
					}
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp21_ = FALSE;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp23_ = i;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp24_ = res;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp25_ = _tmp24_->nodesetval;
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp26_ = xmlXPathNodeSetGetLength (_tmp25_);
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (!(_tmp23_ < _tmp26_)) {
#line 130 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						break;
#line 1183 "grabberUtils.c"
					}
#line 132 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp27_ = res;
#line 132 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp28_ = _tmp27_->nodesetval;
#line 132 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp29_ = i;
#line 132 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp30_ = xmlXPathNodeSetItem (_tmp28_, _tmp29_);
#line 132 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					node = _tmp30_;
#line 133 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp31_ = node;
#line 133 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (_tmp31_ != NULL) {
#line 1199 "grabberUtils.c"
						xmlNode* _tmp32_ = NULL;
						xmlNode* _tmp33_ = NULL;
#line 135 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp32_ = node;
#line 135 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						xmlUnlinkNode (_tmp32_);
#line 136 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp33_ = node;
#line 136 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						xmlFreeNodeList (_tmp33_);
#line 1210 "grabberUtils.c"
					}
				}
			}
		}
	}
#line 141 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp34_ = res;
#line 141 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlXPathFreeObject (_tmp34_);
#line 113 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_xmlXPathFreeContext0 (cntx);
#line 113 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (query);
#line 113 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (ancestor);
#line 1226 "grabberUtils.c"
}


void feed_reader_grabber_utils_stripIDorClass (xmlDoc* doc, const gchar* IDorClass) {
	xmlXPathContext* cntx = NULL;
	xmlDoc* _tmp0_ = NULL;
	xmlXPathContext* _tmp1_ = NULL;
	gchar* xpath = NULL;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	xmlXPathObject* res = NULL;
	xmlXPathContext* _tmp5_ = NULL;
	const gchar* _tmp6_ = NULL;
	xmlXPathObject* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	xmlXPathObject* _tmp10_ = NULL;
	xmlXPathObject* _tmp39_ = NULL;
#line 144 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_if_fail (IDorClass != NULL);
#line 146 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = doc;
#line 146 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = xmlXPathNewContext (_tmp0_);
#line 146 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	cntx = _tmp1_;
#line 147 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = IDorClass;
#line 147 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = IDorClass;
#line 147 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp4_ = g_strdup_printf ("//*[contains(@class, '%s') or contains(@id, '%s')]", _tmp2_, _tmp3_);
#line 147 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xpath = _tmp4_;
#line 148 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp5_ = cntx;
#line 148 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp6_ = xpath;
#line 148 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp7_ = xmlXPathEvalExpression ((xmlChar*) _tmp6_, _tmp5_);
#line 148 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	res = _tmp7_;
#line 150 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp10_ = res;
#line 150 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp10_ != NULL) {
#line 1274 "grabberUtils.c"
		xmlXPathObject* _tmp11_ = NULL;
		xmlXPathObjectType _tmp12_ = 0;
#line 151 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp11_ = res;
#line 151 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp12_ = _tmp11_->type;
#line 151 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = _tmp12_ == XPATH_NODESET;
#line 1283 "grabberUtils.c"
	} else {
#line 150 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = FALSE;
#line 1287 "grabberUtils.c"
	}
#line 150 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp9_) {
#line 1291 "grabberUtils.c"
		xmlXPathObject* _tmp13_ = NULL;
		xmlNodeSet* _tmp14_ = NULL;
#line 152 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp13_ = res;
#line 152 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp14_ = _tmp13_->nodesetval;
#line 152 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = _tmp14_ != NULL;
#line 1300 "grabberUtils.c"
	} else {
#line 150 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = FALSE;
#line 1304 "grabberUtils.c"
	}
#line 150 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp8_) {
#line 1308 "grabberUtils.c"
		{
			gint i = 0;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			i = 0;
#line 1313 "grabberUtils.c"
			{
				gboolean _tmp15_ = FALSE;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp15_ = TRUE;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				while (TRUE) {
#line 1320 "grabberUtils.c"
					gint _tmp17_ = 0;
					xmlXPathObject* _tmp18_ = NULL;
					xmlNodeSet* _tmp19_ = NULL;
					gint _tmp20_ = 0;
					xmlNode* node = NULL;
					xmlXPathObject* _tmp21_ = NULL;
					xmlNodeSet* _tmp22_ = NULL;
					gint _tmp23_ = 0;
					xmlNode* _tmp24_ = NULL;
					gboolean _tmp25_ = FALSE;
					gboolean _tmp26_ = FALSE;
					xmlNode* _tmp27_ = NULL;
					gchar* _tmp28_ = NULL;
					gchar* _tmp29_ = NULL;
					gboolean _tmp30_ = FALSE;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (!_tmp15_) {
#line 1338 "grabberUtils.c"
						gint _tmp16_ = 0;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp16_ = i;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						i = _tmp16_ + 1;
#line 1344 "grabberUtils.c"
					}
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp15_ = FALSE;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp17_ = i;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp18_ = res;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp19_ = _tmp18_->nodesetval;
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp20_ = xmlXPathNodeSetGetLength (_tmp19_);
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (!(_tmp17_ < _tmp20_)) {
#line 154 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						break;
#line 1360 "grabberUtils.c"
					}
#line 156 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp21_ = res;
#line 156 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp22_ = _tmp21_->nodesetval;
#line 156 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp23_ = i;
#line 156 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp24_ = xmlXPathNodeSetItem (_tmp22_, _tmp23_);
#line 156 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					node = _tmp24_;
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp27_ = node;
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp28_ = (gchar*) xmlGetProp (_tmp27_, (xmlChar*) "class");
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp29_ = _tmp28_;
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp30_ = _tmp29_ != NULL;
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_g_free0 (_tmp29_);
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (_tmp30_) {
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp26_ = TRUE;
#line 1386 "grabberUtils.c"
					} else {
						xmlNode* _tmp31_ = NULL;
						gchar* _tmp32_ = NULL;
						gchar* _tmp33_ = NULL;
#line 158 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp31_ = node;
#line 158 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp32_ = (gchar*) xmlGetProp (_tmp31_, (xmlChar*) "id");
#line 158 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp33_ = _tmp32_;
#line 158 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp26_ = _tmp33_ != NULL;
#line 158 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_g_free0 (_tmp33_);
#line 1401 "grabberUtils.c"
					}
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (_tmp26_) {
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp25_ = TRUE;
#line 1407 "grabberUtils.c"
					} else {
						xmlNode* _tmp34_ = NULL;
						gchar* _tmp35_ = NULL;
						gchar* _tmp36_ = NULL;
#line 159 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp34_ = node;
#line 159 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp35_ = (gchar*) xmlGetProp (_tmp34_, (xmlChar*) "src");
#line 159 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp36_ = _tmp35_;
#line 159 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp25_ = _tmp36_ != NULL;
#line 159 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_g_free0 (_tmp36_);
#line 1422 "grabberUtils.c"
					}
#line 157 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					if (_tmp25_) {
#line 1426 "grabberUtils.c"
						xmlNode* _tmp37_ = NULL;
						xmlNode* _tmp38_ = NULL;
#line 161 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp37_ = node;
#line 161 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						xmlUnlinkNode (_tmp37_);
#line 162 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						_tmp38_ = node;
#line 162 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
						xmlFreeNodeList (_tmp38_);
#line 1437 "grabberUtils.c"
					}
				}
			}
		}
	}
#line 167 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp39_ = res;
#line 167 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	xmlXPathFreeObject (_tmp39_);
#line 144 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (xpath);
#line 144 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_xmlXPathFreeContext0 (cntx);
#line 1451 "grabberUtils.c"
}


static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	GError * _inner_error_ = NULL;
#line 1282 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1282 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1282 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1464 "grabberUtils.c"
	{
		GRegex* regex = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		GRegex* _tmp3_ = NULL;
		GRegex* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		GRegex* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp0_ = old;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp1_ = g_regex_escape_string (_tmp0_, -1);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp3_ = g_regex_new (_tmp2_, 0, 0, &_inner_error_);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_free0 (_tmp2_);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		regex = _tmp4_;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 1495 "grabberUtils.c"
				goto __catch21_g_regex_error;
			}
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			return NULL;
#line 1504 "grabberUtils.c"
		}
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp6_ = regex;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp7_ = replacement;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp8_ = g_regex_replace_literal (_tmp6_, self, (gssize) (-1), 0, _tmp7_, 0, &_inner_error_);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = _tmp8_;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 1520 "grabberUtils.c"
				goto __catch21_g_regex_error;
			}
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			return NULL;
#line 1531 "grabberUtils.c"
		}
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp9_ = _tmp5_;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = NULL;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = _tmp9_;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_free0 (_tmp5_);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 1545 "grabberUtils.c"
	}
	goto __finally21;
	__catch21_g_regex_error:
	{
		GError* e = NULL;
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		e = _inner_error_;
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_inner_error_ = NULL;
#line 1287 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 1559 "grabberUtils.c"
	}
	__finally21:
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error_);
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return NULL;
#line 1570 "grabberUtils.c"
	}
}


static gchar* string_chug (const gchar* self) {
	gchar* result = NULL;
	gchar* _result_ = NULL;
	gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
#line 1107 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1108 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp0_ = g_strdup (self);
#line 1108 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_result_ = _tmp0_;
#line 1109 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = _result_;
#line 1109 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_strchug (_tmp1_);
#line 1110 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	result = _result_;
#line 1110 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	return result;
#line 1594 "grabberUtils.c"
}


static gchar* string_chomp (const gchar* self) {
	gchar* result = NULL;
	gchar* _result_ = NULL;
	gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
#line 1099 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1100 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp0_ = g_strdup (self);
#line 1100 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_result_ = _tmp0_;
#line 1101 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = _result_;
#line 1101 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_strchomp (_tmp1_);
#line 1102 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	result = _result_;
#line 1102 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	return result;
#line 1617 "grabberUtils.c"
}


gchar* feed_reader_grabber_utils_cleanString (const gchar* text) {
	gchar* result = NULL;
	gchar* tmpText = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar** array = NULL;
	const gchar* _tmp2_ = NULL;
	gchar** _tmp3_ = NULL;
	gchar** _tmp4_ = NULL;
	gint array_length1 = 0;
	gint _array_size_ = 0;
	gchar* _tmp5_ = NULL;
	gchar** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	const gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
#line 170 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (text != NULL, NULL);
#line 172 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = text;
#line 172 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = string_replace (_tmp0_, "\n", "");
#line 172 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	tmpText = _tmp1_;
#line 173 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = tmpText;
#line 173 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp4_ = _tmp3_ = g_strsplit (_tmp2_, " ", 0);
#line 173 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	array = _tmp4_;
#line 173 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	array_length1 = _vala_array_length (_tmp3_);
#line 173 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_array_size_ = array_length1;
#line 174 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp5_ = g_strdup ("");
#line 174 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (tmpText);
#line 174 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	tmpText = _tmp5_;
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp6_ = array;
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp6__length1 = array_length1;
#line 1665 "grabberUtils.c"
	{
		gchar** word_collection = NULL;
		gint word_collection_length1 = 0;
		gint _word_collection_size_ = 0;
		gint word_it = 0;
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		word_collection = _tmp6_;
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		word_collection_length1 = _tmp6__length1;
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		for (word_it = 0; word_it < _tmp6__length1; word_it = word_it + 1) {
#line 1677 "grabberUtils.c"
			gchar* _tmp7_ = NULL;
			gchar* word = NULL;
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp7_ = g_strdup (word_collection[word_it]);
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			word = _tmp7_;
#line 1684 "grabberUtils.c"
			{
				const gchar* _tmp8_ = NULL;
				gchar* _tmp9_ = NULL;
				gchar* _tmp10_ = NULL;
				gboolean _tmp11_ = FALSE;
#line 178 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp8_ = word;
#line 178 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp9_ = string_chug (_tmp8_);
#line 178 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp10_ = _tmp9_;
#line 178 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp11_ = g_strcmp0 (_tmp10_, "") != 0;
#line 178 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (_tmp10_);
#line 178 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (_tmp11_) {
#line 1702 "grabberUtils.c"
					const gchar* _tmp12_ = NULL;
					const gchar* _tmp13_ = NULL;
					gchar* _tmp14_ = NULL;
					gchar* _tmp15_ = NULL;
					gchar* _tmp16_ = NULL;
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp12_ = tmpText;
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp13_ = word;
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp14_ = g_strconcat (_tmp13_, " ", NULL);
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp15_ = _tmp14_;
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp16_ = g_strconcat (_tmp12_, _tmp15_, NULL);
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_g_free0 (tmpText);
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					tmpText = _tmp16_;
#line 180 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_g_free0 (_tmp15_);
#line 1724 "grabberUtils.c"
				}
#line 176 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (word);
#line 1728 "grabberUtils.c"
			}
		}
	}
#line 184 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp17_ = tmpText;
#line 184 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp18_ = string_chomp (_tmp17_);
#line 184 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = _tmp18_;
#line 184 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	array = (_vala_array_free (array, array_length1, (GDestroyNotify) g_free), NULL);
#line 184 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (tmpText);
#line 184 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 1744 "grabberUtils.c"
}


static gint string_index_of_char (const gchar* self, gunichar c, gint start_index) {
	gint result = 0;
	gchar* _result_ = NULL;
	gint _tmp0_ = 0;
	gunichar _tmp1_ = 0U;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
#line 920 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 921 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp0_ = start_index;
#line 921 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = c;
#line 921 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp2_ = g_utf8_strchr (((gchar*) self) + _tmp0_, (gssize) (-1), _tmp1_);
#line 921 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_result_ = _tmp2_;
#line 923 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp3_ = _result_;
#line 923 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp3_ != NULL) {
#line 1769 "grabberUtils.c"
		gchar* _tmp4_ = NULL;
#line 924 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp4_ = _result_;
#line 924 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = (gint) (_tmp4_ - ((gchar*) self));
#line 924 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 1777 "grabberUtils.c"
	} else {
#line 926 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = -1;
#line 926 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 1783 "grabberUtils.c"
	}
}


gchar* feed_reader_grabber_utils_completeURL (const gchar* incompleteURL, const gchar* articleURL) {
	gchar* result = NULL;
	gint index = 0;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gchar* baseURL = NULL;
	gchar* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	const gchar* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	const gchar* _tmp55_ = NULL;
	gchar* _tmp56_ = NULL;
#line 187 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (incompleteURL != NULL, NULL);
#line 187 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (articleURL != NULL, NULL);
#line 191 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = articleURL;
#line 191 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = string_index_of_char (_tmp0_, (gunichar) '.', 12);
#line 191 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	index = _tmp1_;
#line 192 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = g_strdup ("");
#line 192 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	baseURL = _tmp2_;
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp4_ = incompleteURL;
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp5_ = g_str_has_prefix (_tmp4_, "/");
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp5_) {
#line 1820 "grabberUtils.c"
		const gchar* _tmp6_ = NULL;
		gboolean _tmp7_ = FALSE;
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = incompleteURL;
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp7_ = g_str_has_prefix (_tmp6_, "//");
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp3_ = !_tmp7_;
#line 1829 "grabberUtils.c"
	} else {
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp3_ = FALSE;
#line 1833 "grabberUtils.c"
	}
#line 194 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp3_) {
#line 1837 "grabberUtils.c"
		const gchar* _tmp8_ = NULL;
		gint _tmp9_ = 0;
		gint _tmp10_ = 0;
		const gchar* _tmp11_ = NULL;
		gint _tmp12_ = 0;
		gchar* _tmp13_ = NULL;
		const gchar* _tmp14_ = NULL;
		gboolean _tmp15_ = FALSE;
		const gchar* _tmp20_ = NULL;
		const gchar* _tmp21_ = NULL;
		gchar* _tmp22_ = NULL;
#line 196 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp8_ = articleURL;
#line 196 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp9_ = index;
#line 196 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp10_ = string_index_of_char (_tmp8_, (gunichar) '/', _tmp9_);
#line 196 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		index = _tmp10_;
#line 197 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp11_ = articleURL;
#line 197 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp12_ = index;
#line 197 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp13_ = string_substring (_tmp11_, (glong) 0, (glong) _tmp12_);
#line 197 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_g_free0 (baseURL);
#line 197 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		baseURL = _tmp13_;
#line 198 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp14_ = baseURL;
#line 198 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp15_ = g_str_has_suffix (_tmp14_, "/");
#line 198 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		if (_tmp15_) {
#line 1873 "grabberUtils.c"
			const gchar* _tmp16_ = NULL;
			const gchar* _tmp17_ = NULL;
			gint _tmp18_ = 0;
			gchar* _tmp19_ = NULL;
#line 200 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp16_ = baseURL;
#line 200 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp17_ = baseURL;
#line 200 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp18_ = g_utf8_strlen (_tmp17_, (gssize) (-1));
#line 200 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp19_ = string_substring (_tmp16_, (glong) 0, (glong) (_tmp18_ - 1));
#line 200 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_g_free0 (baseURL);
#line 200 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			baseURL = _tmp19_;
#line 1890 "grabberUtils.c"
		}
#line 202 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp20_ = baseURL;
#line 202 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp21_ = incompleteURL;
#line 202 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp22_ = g_strconcat (_tmp20_, _tmp21_, NULL);
#line 202 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		result = _tmp22_;
#line 202 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_g_free0 (baseURL);
#line 202 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		return result;
#line 1904 "grabberUtils.c"
	} else {
		const gchar* _tmp23_ = NULL;
		gboolean _tmp24_ = FALSE;
#line 204 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp23_ = incompleteURL;
#line 204 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp24_ = g_str_has_prefix (_tmp23_, "?");
#line 204 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		if (_tmp24_) {
#line 1914 "grabberUtils.c"
			const gchar* _tmp25_ = NULL;
			gint _tmp26_ = 0;
			gint _tmp27_ = 0;
			const gchar* _tmp28_ = NULL;
			gint _tmp29_ = 0;
			gchar* _tmp30_ = NULL;
			const gchar* _tmp31_ = NULL;
			const gchar* _tmp32_ = NULL;
			gchar* _tmp33_ = NULL;
#line 206 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp25_ = articleURL;
#line 206 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp26_ = index;
#line 206 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp27_ = string_index_of_char (_tmp25_, (gunichar) '?', _tmp26_);
#line 206 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			index = _tmp27_;
#line 207 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp28_ = articleURL;
#line 207 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp29_ = index;
#line 207 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp30_ = string_substring (_tmp28_, (glong) 0, (glong) _tmp29_);
#line 207 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_g_free0 (baseURL);
#line 207 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			baseURL = _tmp30_;
#line 208 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp31_ = baseURL;
#line 208 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp32_ = incompleteURL;
#line 208 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp33_ = g_strconcat (_tmp31_, _tmp32_, NULL);
#line 208 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			result = _tmp33_;
#line 208 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_g_free0 (baseURL);
#line 208 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			return result;
#line 1954 "grabberUtils.c"
		} else {
			gboolean _tmp34_ = FALSE;
			gboolean _tmp35_ = FALSE;
			const gchar* _tmp36_ = NULL;
			gboolean _tmp37_ = FALSE;
#line 210 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp36_ = incompleteURL;
#line 210 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp37_ = g_str_has_prefix (_tmp36_, "http");
#line 210 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			if (!_tmp37_) {
#line 1966 "grabberUtils.c"
				const gchar* _tmp38_ = NULL;
				gboolean _tmp39_ = FALSE;
#line 211 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp38_ = incompleteURL;
#line 211 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp39_ = g_str_has_prefix (_tmp38_, "www");
#line 211 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp35_ = !_tmp39_;
#line 1975 "grabberUtils.c"
			} else {
#line 210 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp35_ = FALSE;
#line 1979 "grabberUtils.c"
			}
#line 210 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			if (_tmp35_) {
#line 1983 "grabberUtils.c"
				const gchar* _tmp40_ = NULL;
				gboolean _tmp41_ = FALSE;
#line 212 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp40_ = incompleteURL;
#line 212 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp41_ = g_str_has_prefix (_tmp40_, "//");
#line 212 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp34_ = !_tmp41_;
#line 1992 "grabberUtils.c"
			} else {
#line 210 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp34_ = FALSE;
#line 1996 "grabberUtils.c"
			}
#line 210 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			if (_tmp34_) {
#line 2000 "grabberUtils.c"
				const gchar* _tmp42_ = NULL;
				gint _tmp43_ = 0;
				gint _tmp44_ = 0;
				const gchar* _tmp45_ = NULL;
				gint _tmp46_ = 0;
				gchar* _tmp47_ = NULL;
				const gchar* _tmp48_ = NULL;
				gboolean _tmp49_ = FALSE;
				const gchar* _tmp52_ = NULL;
				const gchar* _tmp53_ = NULL;
				gchar* _tmp54_ = NULL;
#line 214 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp42_ = articleURL;
#line 214 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp43_ = index;
#line 214 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp44_ = string_index_of_char (_tmp42_, (gunichar) '/', _tmp43_);
#line 214 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				index = _tmp44_;
#line 215 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp45_ = articleURL;
#line 215 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp46_ = index;
#line 215 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp47_ = string_substring (_tmp45_, (glong) 0, (glong) _tmp46_);
#line 215 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (baseURL);
#line 215 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				baseURL = _tmp47_;
#line 216 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp48_ = baseURL;
#line 216 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp49_ = g_str_has_suffix (_tmp48_, "/");
#line 216 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				if (!_tmp49_) {
#line 2036 "grabberUtils.c"
					const gchar* _tmp50_ = NULL;
					gchar* _tmp51_ = NULL;
#line 218 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp50_ = baseURL;
#line 218 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_tmp51_ = g_strconcat (_tmp50_, "/", NULL);
#line 218 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					_g_free0 (baseURL);
#line 218 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
					baseURL = _tmp51_;
#line 2047 "grabberUtils.c"
				}
#line 220 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp52_ = baseURL;
#line 220 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp53_ = incompleteURL;
#line 220 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_tmp54_ = g_strconcat (_tmp52_, _tmp53_, NULL);
#line 220 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				result = _tmp54_;
#line 220 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				_g_free0 (baseURL);
#line 220 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
				return result;
#line 2061 "grabberUtils.c"
			}
		}
	}
#line 223 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp55_ = incompleteURL;
#line 223 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp56_ = g_strdup (_tmp55_);
#line 223 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = _tmp56_;
#line 223 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (baseURL);
#line 223 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 2075 "grabberUtils.c"
}


gchar* feed_reader_grabber_utils_buildHostName (const gchar* URL) {
	gchar* result = NULL;
	gchar* hostname = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	const gchar* _tmp10_ = NULL;
	gboolean _tmp11_ = FALSE;
	gint index = 0;
	const gchar* _tmp14_ = NULL;
	gint _tmp15_ = 0;
	const gchar* _tmp16_ = NULL;
	gchar* _tmp17_ = NULL;
#line 226 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	g_return_val_if_fail (URL != NULL, NULL);
#line 228 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp0_ = URL;
#line 228 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 228 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	hostname = _tmp1_;
#line 229 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp2_ = hostname;
#line 229 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp3_ = g_str_has_prefix (_tmp2_, "http://");
#line 229 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp3_) {
#line 2107 "grabberUtils.c"
		const gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
#line 231 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp4_ = hostname;
#line 231 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp5_ = string_substring (_tmp4_, (glong) 7, (glong) (-1));
#line 231 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_g_free0 (hostname);
#line 231 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		hostname = _tmp5_;
#line 2118 "grabberUtils.c"
	} else {
		const gchar* _tmp6_ = NULL;
		gboolean _tmp7_ = FALSE;
#line 233 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp6_ = hostname;
#line 233 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp7_ = g_str_has_prefix (_tmp6_, "https://");
#line 233 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		if (_tmp7_) {
#line 2128 "grabberUtils.c"
			const gchar* _tmp8_ = NULL;
			gchar* _tmp9_ = NULL;
#line 235 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp8_ = hostname;
#line 235 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_tmp9_ = string_substring (_tmp8_, (glong) 8, (glong) (-1));
#line 235 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			_g_free0 (hostname);
#line 235 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
			hostname = _tmp9_;
#line 2139 "grabberUtils.c"
		}
	}
#line 238 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp10_ = hostname;
#line 238 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp11_ = g_str_has_prefix (_tmp10_, "www.");
#line 238 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	if (_tmp11_) {
#line 2148 "grabberUtils.c"
		const gchar* _tmp12_ = NULL;
		gchar* _tmp13_ = NULL;
#line 240 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp12_ = hostname;
#line 240 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_tmp13_ = string_substring (_tmp12_, (glong) 4, (glong) (-1));
#line 240 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		_g_free0 (hostname);
#line 240 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
		hostname = _tmp13_;
#line 2159 "grabberUtils.c"
	}
#line 243 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp14_ = hostname;
#line 243 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp15_ = string_index_of_char (_tmp14_, (gunichar) '/', 0);
#line 243 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	index = _tmp15_;
#line 244 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp16_ = hostname;
#line 244 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_tmp17_ = string_substring (_tmp16_, (glong) 0, (glong) index);
#line 244 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	result = _tmp17_;
#line 244 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	_g_free0 (hostname);
#line 244 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	return result;
#line 2177 "grabberUtils.c"
}


static void feed_reader_grabber_utils_class_init (FeedReadergrabberUtilsClass * klass) {
#line 1 "/home/samthomas/Development/Vala/feedreader/src/ContentGrabber/grabberUtils.vala"
	feed_reader_grabber_utils_parent_class = g_type_class_peek_parent (klass);
#line 2184 "grabberUtils.c"
}


static void feed_reader_grabber_utils_instance_init (FeedReadergrabberUtils * self) {
}


GType feed_reader_grabber_utils_get_type (void) {
	static volatile gsize feed_reader_grabber_utils_type_id__volatile = 0;
	if (g_once_init_enter (&feed_reader_grabber_utils_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (FeedReadergrabberUtilsClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) feed_reader_grabber_utils_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FeedReadergrabberUtils), 0, (GInstanceInitFunc) feed_reader_grabber_utils_instance_init, NULL };
		GType feed_reader_grabber_utils_type_id;
		feed_reader_grabber_utils_type_id = g_type_register_static (G_TYPE_OBJECT, "FeedReadergrabberUtils", &g_define_type_info, 0);
		g_once_init_leave (&feed_reader_grabber_utils_type_id__volatile, feed_reader_grabber_utils_type_id);
	}
	return feed_reader_grabber_utils_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



